# javascript 函数式编程

## 1.纯函数

1. 函数除了接受入参，纯纯的计算，啥也不干

```js
let a = 2;
// 非纯函数
function add(x) {
    return a + x;
}

// 非纯函数
function getToday() {
    return new Date().getDate();
}
```

2. 非纯函数会导致 **副作用** 和 **不确定性**
    - 不确定会导致难以调试，数据变化难以追随，计算结果难以复用
    - 副作用会改变函数外部的世界，多个函数改变到同一块信息，结果不可控
3. 纯函数是高度灵活的函数，它的计算逻辑在任何上下文里都是成立的。
## 2.不可变数据
1. 针对引用类型数据，使用拷贝代替修改
2. 拷贝方案缺点明显
    - 数据规模巨大、数据变化频繁的应用来说，拷贝意味着一场性能灾难。
    - 影响应用性能、挤占生存空间
3. git快照
    - “快照”记录的并不是文件的内容，而是文件的索引
    - 对于那些没有发生变化的文件，git 保存他们原有的索引
    - 对于那些已经发生变化的文件，git 会保存变化后的文件的索引
4. 数据共享
    - 在 git 世界里，这个“变与不变”的区分是文件级别的；而在 Immutable.js 的世界里，这个“变与不变”可以细化到数组的某一个元素、对象的某一个字段。
    - 持久化数据结构在底层依赖了一种经典的基础数据结构，那就是 `Trie`(字典树）。